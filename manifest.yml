modules:
  jira:adminPage:
    - key: circleci-for-jira-admin-page
      function: main-admin-page
      title: Admin page example
    - key: circleci-for-jira-configure-page
      function: main-configure-page
      title: Configure page example
      useAsConfig: true
    - key: circleci-for-jira-get-started-page
      function: main-get-started-page
      title: Get started page example
      useAsGetStarted: true
  webtrigger:
    - key: orb-webtrigger
      function: handle-orb-request
  devops:deploymentInfoProvider:
    - key: deployment-info-provider
      homeUrl: https://github.com/CircleCI-Public/circleci-for-jira
      logoUrl: https://avatars.githubusercontent.com/u/1231870?s=200&v=4
      name:
        value: CircleCI for Jira
  devops:buildInfoProvider:
    - key: build-info-provider
      homeUrl: https://github.com/CircleCI-Public/circleci-for-jira
      logoUrl: https://avatars.githubusercontent.com/u/1231870?s=200&v=4
      name:
        value: CircleCI for Jira
  function:
    - key: handle-orb-request
      handler: index.handleOrbRequest
    - key: main-admin-page
      handler: index.runAdminPage
    - key: main-configure-page
      handler: index.runConfigurePage
    - key: main-get-started-page
      handler: index.runGetStartedPage
app:
  id: ari:cloud:ecosystem::app/6fd10ed4-0026-4974-b62d-6d0002f86a94
  runtime:
    snapshots: false
permissions:
  external:
    fetch:
      backend:
        - 'https://oidc.circleci.com/org/*/.well-known/jwks-pub.json'
  scopes:
    - 'storage:app'
    - 'write:build-info:jira'
    - 'delete:build-info:jira'
    - 'write:deployment-info:jira'
    - 'delete:deployment-info:jira'
